"use client";
"use strict";var ft=Object.create;var _=Object.defineProperty,ht=Object.defineProperties,gt=Object.getOwnPropertyDescriptor,bt=Object.getOwnPropertyDescriptors,xt=Object.getOwnPropertyNames,we=Object.getOwnPropertySymbols,wt=Object.getPrototypeOf,ve=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;var Ce=(e,t,o)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,L=(e,t)=>{for(var o in t||(t={}))ve.call(t,o)&&Ce(e,o,t[o]);if(we)for(var o of we(t))Ct.call(t,o)&&Ce(e,o,t[o]);return e},O=(e,t)=>ht(e,bt(t));var vt=(e,t)=>{for(var o in t)_(e,o,{get:t[o],enumerable:!0})},Ae=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of xt(t))!ve.call(e,r)&&r!==o&&_(e,r,{get:()=>t[r],enumerable:!(n=gt(t,r))||n.enumerable});return e};var P=(e,t,o)=>(o=e!=null?ft(wt(e)):{},Ae(t||!e||!e.__esModule?_(o,"default",{value:e,enumerable:!0}):o,e)),At=e=>Ae(_({},"__esModule",{value:!0}),e);var G=(e,t,o)=>new Promise((n,r)=>{var p=m=>{try{c(o.next(m))}catch(y){r(y)}},a=m=>{try{c(o.throw(m))}catch(y){r(y)}},c=m=>m.done?n(m.value):Promise.resolve(m.value).then(p,a);c((o=o.apply(e,t)).next())});var Pt={};vt(Pt,{default:()=>Bt});module.exports=At(Pt);var fe=require("react"),lt=require("react-error-boundary"),ct=P(require("swr"));var j=require("react"),Z=P(require("swr"));var ne="https://public.docsly.dev/api/v1.8",I={getProjectSettings:"/get-project-settings",getComments:"/get-comments",getCommentsPublic:"/get-comments-public",addFeedback:"/add-feedback",addComment:"/add-comment",getTeamMember:"/get-team-member",updateCommentStatus:"/update-comment-status",measure:"/measure"};function D(e,t=ne){return`${t||ne}${e}`}var Ee={32:"https://www.docsly.dev/comment-pointer-min.png",64:"https://www.docsly.dev/comment-pointer-64-min.png",128:"https://www.docsly.dev/comment-pointer-128-min.png"},Te=`
body.docsly-active {
  /* Use 1x image for DPR <= 1 */
  cursor: -webkit-image-set(
    url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAMAAABgOjJdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAACBUExURUdwTABb5ABc5ABa4wBa5ABg3wBb5QBb5ABY3wBb5QBb5ABQ3wBb5ABb5ABY4wBc4wBc4wBa5QBc4gBZ4gBc4wBa5QBb5ABZ5ABa5QBb5ABa4wBa4gBc5QBa5ABb5P///0CE6yBv5xBm5hBl5t/r/CBv6O/1/mCZ7u/1/XCi8HCj8HM0MbEAAAAedFJOUwDP75AwEJ/fIN/vEL+PQJCAf1BQQK9wcJ+gsGCvYDpgOOcAAADoSURBVDjLldNXDoMwDABQQxlJGd27zWB13P+AZahgo0BU/6CEp9hgByCNBYkwTnYRoEiFIdyADcIR5tj0IpwQgjObENyzid8pM0Jw3yZEYhWiKWVJt7KMLA+1oCAvCkr8sdBSKrJxsoqzVXAsMqXUU8pnWZaoFiwK2ccrQ6L/2rwahNRIDH9M11k+Ur7rh8ZZ6HyocaUOwGJeXAG28+IG4JPG5FWliWhGhKbROVkGTfvZXPe7KVtPg6CbVN8+7myCuMO18ozE9dDVNJ3CMahrWY3Bgtzu9pgLfh/vwRDscW/bGAbHCP6JL9uJY10HcNI3AAAAAElFTkSuQmCC) 1x,
    url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAMAAAC5KTl3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAACoUExURUdwTABa4wBg3wBY4wBb5QBc4wBa4gBb5ABY3wBZ4gBa5ABc5ABb5ABb5ABb5ABb5ABb5QBQ3wBc4wBa5ABb5ABa5QBZ5ABc4gBZ4gBb5ABb5ABa5gBc4wBa4wBa5QBa4wBV5ABb5P///7/W+ECE6yBv6CBv5+/1/hBm5lCO7K/M9jB66d/r/BBl5pC384Ct8bDM9nCj74Ct8q/M92CZ7s/h+mCY7s/g+wwQ7qUAAAAhdFJOUwCQEEDfQGC/IKAw73DfoO+fEIBgz69wUFCfjx+QgH+wMMAHDpwAAAGaSURBVFjDpdfZcoJAEAXQC4JMAIPGNZqtGxI1LtmT//+zPGgsq9LMDPR9s4RTQzPFdAMmcaQ/z2cG9TE98kk07tYpAXlnPBOFC2qQqKsVRKOhQNQ3WuHfMpoLRHdqga7VAiWhVjhfRUuB5mqBJmqBUrUQhVqBbg/CuL1Ah/2dKIRELVBHLQRuoVry86r+7yJ0CltmfnFsK6vwxMxcOmqpEyhUCzO1EKiFRC0UaoFCWVhVh3wyM389HiMKC1FYL1mKuDs7orBlOW/eQg3Ae2+hrBE2oiB95Xbv5SE/zMzL44+PtfyJsHYglfttLpArBWCqE0aA0Qn3AAqVMHEcOW7hAcBQI0QAEFou2DAzv9raMueZUzLz2nXkILZcsfveV66HAODXWUv56wuHrTuIUyfUUy7BXgmvJbQ9wNPzMaVoe/SfMtU9AwBcNQb+DU2XiiK0qqY0LoUNVpF15bHvxhtI62ZPz3KOjHJ8DQawxbmMKIYjxlrQLIdH6o1RPoBfzFDYHFkQo0kG0yDJTnf3+nmz20+MieM4To31ol+CKrbrAE4TvQAAAABJRU5ErkJggg==) 2x)
      0 0,
    pointer;
}`;function he(e){var p,a;let t=(p=e==null?void 0:e.anchorNode)==null?void 0:p.parentElement,o=(a=e==null?void 0:e.focusNode)==null?void 0:a.parentElement,n=(t==null?void 0:t.offsetTop)<(o==null?void 0:o.offsetTop)?t:o;return{upperElmRect:n.getBoundingClientRect(),upperElement:n,elementStart:t,elementEnd:o}}function ke(e,t,o,n){let r=document.getElementById("docsly-selected-text"),p=e.getBoundingClientRect(),a=(e==null?void 0:e.offsetTop)+(t.top-p.top),c=document.createElement("span");c.setAttribute("class",`highlight-span-${o}`),c.setAttribute("data-id",o),n&&(c.onclick=n),c.setAttribute("style",`background-color: #e73bf6; opacity: 0.2; position: absolute; left: ${t.left}px; top: ${a}px; height: ${t.height}px; width: ${t.width}px`),r==null||r.appendChild(c)}function se(e,t){var o,n;if(!t)return[];if(t.startOffset===t.endOffset)return[];try{let r=document.createRange(),p=(o=document.querySelector(t.startContainerNodeId))==null?void 0:o.childNodes[t.startContainerTextNodeIndex],a=(n=document.querySelector(t.endContainerNodeId))==null?void 0:n.childNodes[t.endContainerTextNodeIndex];r.setStart(p,t.startOffset),r.setEnd(a,t.endOffset);let c=e.getBoundingClientRect();return Array.from(r.getClientRects()).map(y=>{let h=(e==null?void 0:e.offsetTop)+(y.top-c.top);return O(L({},y.toJSON()),{top:h})})}catch(r){return[]}}var X=(...e)=>fetch(...e).then(t=>{if(t.status>300)throw new Error(t.statusText);return t.json()});function de(e,t,o,n){let r=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),p=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)+window.scrollY,a=48,c=32;o&&(o.style.left=`${e}px`,o.style.top=`${t}px`);let m={width:n.clientWidth||320,height:n.clientHeight||100};if(n&&o){let y=e+m.width+a*1.5<r,h=t+m.height+a*1.5<p,g=e-m.width<0,x=g?Math.floor(Math.abs(r-m.width)/2):Math.abs(e-m.width),l=t-m.height-a*1.5;y&&h?(n.style.left=`${e+a}px`,n.style.top=`${t+a}px`,o.style.rotate="0deg",n.style.transformOrigin="left top",o.style.transformOrigin="left top"):y&&!h?(o.style.rotate="-90deg",o.style.top=`${t-a}px`,o.style.left=`${e+c}px`,n.style.left=`${e+a}px`,n.style.top=`${l}px`,n.style.transformOrigin="left bottom",o.style.transformOrigin="left bottom"):!y&&h?(n.style.left=`${x}px`,n.style.top=`${t+a}px`,o.style.left=`${e-c*1.5}px`,o.style.top=`${t+c}px`,o.style.rotate="90deg",n.style.transformOrigin="right top",o.style.transformOrigin="right top"):(n.style.left=`${x}px`,n.style.top=`${l}px`,o.style.left=`${e-a-c}px`,o.style.top=`${t-a-c*2}px`,g?o.style.rotate="0deg":o.style.rotate="-180deg",n.style.transformOrigin="right bottom",o.style.transformOrigin="right bottom")}Tt(o,n)}function re(e,t){let o=e.metadata,n=t.getBoundingClientRect(),r={width:n.width,height:n.height},p=window.scrollY||document.documentElement.scrollTop,a=n.top+p,c=window.scrollX||document.documentElement.scrollLeft,y=n.left+c+o.xRelativeToParent*(r.width/o.elementDimensions.width),h=a+o.yRelativeToParent*(r.height/o.elementDimensions.height);return{xRelativeToParent:y,yRelativeToParent:h}}function ae(e){var t,o;return((t=e==null?void 0:e.user)==null?void 0:t.picture)||`https://source.boringavatars.com/beam/24/${((o=e==null?void 0:e.user)==null?void 0:o.sub)||e.id}`}function Et(e){e.classList.add("dy-flex"),e.classList.remove("dy-hidden")}function ge(e){e.classList.remove("dy-flex"),e.classList.add("dy-hidden")}function Tt(e,t){e.classList.add("dy-flex"),e.classList.remove("dy-hidden"),Et(t)}function Ne(e,t){e.classList.remove("dy-flex"),e.classList.add("dy-hidden"),ge(t)}function be(e){let t=document.getElementsByClassName("highlight-span-commenting");t&&Array.from(t).forEach(o=>o.remove())}var M="1.8.6";var Le=require("react/jsx-runtime"),Me={docslyTextHighlightStyles:"dy-opacity-50 dy-bg-[hotpink]",docslyBrandStyles:"dy-bg-brand-700 dy-text-neutral-50",docslyToolboxStyles:"dy-bg-black dy-text-neutral-100",docslyInboxStyles:"dy-bg-black dy-text-neutral-100 dy-border-neutral-800",docslyCommentBoxStyles:"dy-border-neutral-300 dy-bg-black dy-text-neutral-200",docslyInputStyles:"dy-bg-inherit placeholder:dy-text-neutral-400"},Se=(0,j.createContext)({pathname:"/",publicId:"",baseURL:ne,saveComment:()=>Promise.resolve(),appearance:Me,isTeamMember:!1,settings:{onlyAuth:!1,allowMobile:!1,status:"off",plan:"starter"},comments:[]}),Ie="/";function Re({children:e,value:t}){let{pathname:o,publicId:n,baseURL:r}=t,p=typeof o=="string"&&o.trim().length?o.trim():Ie,{data:a}=(0,Z.default)([D(I.getTeamMember,t.baseURL)],l=>X(l,{credentials:"include",headers:{"x-sparkle-from":window.location.href,"x-sparkle-version":M,"x-sparkle-public-id":t.publicId}}),{shouldRetryOnError:!1,dedupingInterval:5e3,revalidateOnFocus:!1}),c=a&&(a==null?void 0:a.isTeamMember)?I.getComments:I.getCommentsPublic,m=new URL(D(c,r));m.searchParams.set("publicId",n),m.searchParams.set("pathname",p),m.searchParams.set("version",M);let{data:y,isLoading:h,error:g}=(0,Z.default)(m.href,l=>X(l,{credentials:"include",headers:{"x-sparkle-from":window.location.href,"x-sparkle-public-id":n,"x-sparkle-version":M}}),{shouldRetryOnError:!1,dedupingInterval:1e3,revalidateOnFocus:!0}),x=(0,j.useCallback)(l=>G(this,null,function*(){let d=D(I.addComment,t.baseURL),f=null;if(t.getUserToken)try{f=yield t.getUserToken()}catch(s){}else if(t.user)f=t.user;else if(a!=null&&a.isTeamMember)f=null;else{let s=localStorage.getItem("docsly-user");f=s?JSON.parse(s):null}return fetch(d,{method:"POST",body:JSON.stringify(O(L({},l),{user:f})),credentials:"include",headers:{"Content-type":"application/json","x-sparkle-from":window.location.href,"x-sparkle-public-id":t.publicId,"x-sparkle-version":M}}).then(s=>(t.onDocslyEvent&&t.onDocslyEvent(l!=null&&l.threadId?"docsly_reply":"docsly_comment",l),s.json())).then(s=>{if(!f&&s.user&&localStorage.setItem("docsly-user",JSON.stringify(s.user)),s.newCommentData){let u=y.filter(i=>i.id!==s.newCommentData.id);return u.push(s.newCommentData),(0,Z.mutate)(m.href,u,{revalidate:!1})}}).catch(s=>{})}),[t,a,y,m.href]);return(0,j.useEffect)(()=>{fetch(D(I.measure,t.baseURL),{method:"GET",credentials:"include",headers:{"x-sparkle-from":window.location.href,"x-sparkle-version":M,"x-sparkle-public-id":t.publicId}}).then(l=>l.json()).catch(l=>{})},[p,t.publicId]),(0,Le.jsx)(Se.Provider,{value:O(L({showHighlightedText:!0,showCommentAvatar:!0,highlightToComment:!0,saveComment:x},t),{pathname:p,appearance:L(L({},Me),t.appearance),isTeamMember:(a==null?void 0:a.isTeamMember)||!1,comments:g||h?[]:y}),children:e})}function E(){return(0,j.useContext)(Se)}var B=require("react"),Y=require("react-hot-toast");var H=require("react"),Pe=require("react-hot-toast");var Nt=e=>{let t=[];for(;e;){let o=e.nodeName.toLowerCase(),n=e.id?`#${e.id}`:"",r="";e.className&&typeof e.className=="string"&&(r=`.${e.className.trim().replace(/\s+/g,".").replace(/[:*+?^${}()|[\]\\]/gi,"\\$&")}`),t.unshift({element:e,selector:o+n}),e=e.parentNode!==document?e.parentNode:!1}return t};var It=(e,t=!0)=>{let o=e,n=1;for(;o.previousElementSibling!==null;)(!t||o.previousElementSibling.nodeName===e.nodeName)&&n++,o=o.previousElementSibling;return n};var Mt=(e,t)=>{let o=t===""?e:`${t} > ${e}`;return document.querySelectorAll(o).length>1},St=e=>{let t=[];return e.forEach(o=>{Mt(o.selector,t.join(" > "))&&(o.selector+=`:nth-of-type(${It(o.element)})`),t.push(o.selector)}),t.join(" > ")};function ie(e){if(e instanceof HTMLElement)return St(Nt(e))}var le=require("react");function Be(){let[e,t]=(0,le.useState)(!1);return(0,le.useEffect)(()=>{t("ontouchstart"in window||navigator.maxTouchPoints>0)},[]),e}function De({commentBoxRef:e,commentIconRef:t}){let{pathname:o,highlightToComment:n}=E(),[r,p]=(0,H.useState)(!1),[a,c]=(0,H.useState)({}),m=Be(),[y,h]=(0,H.useState)("none"),g=(0,H.useCallback)((l,d,f)=>{h("addComment");let s=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),u=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0,document.documentElement.scrollHeight),i=f.getBoundingClientRect(),b=window.scrollY||document.documentElement.scrollTop,v=i.top+b,A=window.scrollX||document.documentElement.scrollLeft,w=i.left+A,N={height:i.height,width:i.width},$={nodeId:ie(f),x:l,y:d,xRelativeToParent:l-w,yRelativeToParent:d-v,elementDimensions:N,pageTitle:document.title,userAgent:navigator.userAgent,screenWidth:s,screenHeight:u,devicePixelRatio:window.devicePixelRatio};c($);let q=t.current,oe=e.current;oe&&q&&de(l,d,q,oe)},[]);(0,H.useEffect)(()=>{let l=t.current,d=t.current;y!=="selectedComment"&&y!=="addComment"&&d&&l&&Ne(d,l),be("activeComponent changed")},[y]),(0,H.useEffect)(()=>{h("none")},[o]),(0,H.useEffect)(()=>{function l(s){if(!s.target||!r)return;let u=s.target,i=e.current,b=document.getSelection();if((b==null?void 0:b.type)==="Range"){p(!1);return}s.target&&!(i!=null&&i.contains(u))&&(Pe.toast.dismiss(),p(!1),h("addComment"),g(s.x,s.pageY,u))}function d(){let s=document.getSelection(),u=document.getElementById("docsly-comments-inbox");if((s==null?void 0:s.type)!=="Range")return;let{upperElement:i}=he(s),b=s==null?void 0:s.getRangeAt(0),v=b==null?void 0:b.getClientRects();if(r&&!(u!=null&&u.contains(s==null?void 0:s.focusNode))&&(v==null?void 0:v.length)){let A=Array.from(v),w=A[A.length-1],N=i.getBoundingClientRect(),$=(i==null?void 0:i.offsetTop)+(w.top-N.top);g(w.right+36,$+36,i)}}function f(){var u,i,b,v,A,w;let s=window.getSelection();if(s.type==="Range"){if(!r)return!1;try{let N=s==null?void 0:s.getRangeAt(0),$=s==null?void 0:s.toString(),q=Array.from(N.getClientRects()),oe=ie((u=s.anchorNode)==null?void 0:u.parentElement),mt=ie((i=s.focusNode)==null?void 0:i.parentElement),yt=Array.from(((v=(b=s.anchorNode)==null?void 0:b.parentElement)==null?void 0:v.childNodes)||[]).findIndex(U=>U.nodeType===Node.TEXT_NODE&&U.isEqualNode(s.anchorNode)),pt=Array.from(((w=(A=s.focusNode)==null?void 0:A.parentElement)==null?void 0:w.childNodes)||[]).findIndex(U=>U.nodeType===Node.TEXT_NODE&&U.isEqualNode(s.focusNode)),{upperElement:ut}=he(s);c(U=>O(L({},U),{selectedText:$,selection:{endOffset:s.focusOffset,startOffset:s.anchorOffset,endContainerNodeId:mt,startContainerNodeId:oe,startContainerTextNodeIndex:yt,endContainerTextNodeIndex:pt}})),be("highlightSelectedText"),q.forEach(U=>Math.floor(U.width)>0?ke(ut,U,"commenting"):null)}catch(N){return}}}return n&&!m&&(document.addEventListener("selectionchange",d),document.addEventListener("mouseup",f)),document.addEventListener("click",l),()=>{n&&!m&&(document.removeEventListener("selectionchange",d),document.removeEventListener("mouseup",f)),document.removeEventListener("click",l)}},[r,m,n,g]);let x=(0,H.useCallback)(()=>{p(l=>!l)},[]);return{commentModeActive:r,setActiveComponent:h,activeComponent:y,metadata:a,setMetadata:c,setCommentModeActive:p,toggleCommentMode:x}}var Oe=require("react");var Ue=require("react/jsx-runtime");function He({comments:e,setSelectedComment:t}){let{pathname:o,showCommentAvatar:n,appearance:r,showHighlightedText:p}=E();return(0,Oe.useEffect)(()=>{function a(){let c={},y=new URL(window.location.href).searchParams.get("docslyCommentId"),h=document.getElementById("docsly-current-page-comments");h.innerHTML="",e&&e.length&&e.forEach(g=>{let x=g.metadata,l=document.querySelector(x.nodeId);if(!l)return;c[x.nodeId]?c[x.nodeId]++:c[x.nodeId]=1;let{selection:d,selectedText:f}=x,{xRelativeToParent:s,yRelativeToParent:u}=re(g,l),i=u||(l==null?void 0:l.offsetTop)+l.clientHeight,b={top:`${i}px`,left:`${s}px`},v=[];if(l&&f&&d&&(v=se(l,d),v.length)){c[x.nodeId]--;let w=v[v.length-1];b={top:`${w.top+w.height}px`,left:`${w.width+w.x}px`}}let A=document.createElement("button");if(A.onclick=()=>{t(g)},A.setAttribute("class","cursor-pointer"),A.setAttribute("id",`docsly-comment-main-${g.id}`),n){let w=document.createElement("div");w.setAttribute("class","dy-absolute dy-select-none dy-shadow-sm dy-z-10 hover:dy-z-20"),w.setAttribute("id",`docsly-comment-avatar-${g.id}`),w.setAttribute("style",`left: ${b.left}; top: ${b.top}`);let N=document.createElement("span");N.setAttribute("class"," dy-block dy-rounded-full dy-overflow-hidden dy-bg-black dy-border-[3px] dy-border-black");let $=document.createElement("img");$.setAttribute("class","dy-block dy-w-6 dy-h-6 md:hover:dy-w-8 md:hover:dy-h-8 dy-transition-all dy-duration-150 dy-object-center dy-object-cover"),$.setAttribute("src",ae(g)),N.appendChild($);let q=document.createElement("span");q.setAttribute("class","dy-w-4 dy-h-4 dy-absolute -dy-z-10 dy-rounded-t-[3px] dy-bg-black dy-top-0 dy-left-0"),w.appendChild(q),w.appendChild(N),A.appendChild(w)}p&&v.forEach(w=>{let N=document.createElement("span");N.setAttribute("class",`docslyTextHighlightStyles dy-absolute ${r.docslyTextHighlightStyles} highlight-span-${g.id}`),N.setAttribute("style",`
              left: ${w.left}px;
              height: ${w.height}px;
              width: ${w.width}px;
              top: ${w.top}px;
            }`),A.appendChild(N)}),h.appendChild(A),y&&y===g.id&&setTimeout(()=>{scrollTo({top:i-window.innerHeight/2,behavior:"smooth"})},200)})}return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[e,r,o,t,n,p]),(0,Ue.jsx)("div",{id:"docsly-current-page-comments"})}var qe=P(require("clsx"));var Ge=require("@heroicons/react/24/outline");var ze=P(require("clsx")),ee=P(require("dayjs")),We=P(require("dayjs/plugin/relativeTime.js")),je=P(require("dayjs/plugin/updateLocale")),Je=require("react"),Ve=require("react-hot-toast"),Ke=require("swr");var T=require("react/jsx-runtime");function ce(e){return(0,T.jsx)("svg",O(L({xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",className:"text-neutral-400",viewBox:"0 0 2400 2400",width:24,height:24},e),{children:(0,T.jsxs)("g",{strokeWidth:200,strokeLinecap:"round",stroke:"currentColor",fill:"none",children:[(0,T.jsx)("path",{d:"M1200 600L1200 100"}),(0,T.jsx)("path",{opacity:.5,d:"M1200 2300L1200 1800"}),(0,T.jsx)("path",{opacity:.917,d:"M900 680.4L650 247.4"}),(0,T.jsx)("path",{opacity:.417,d:"M1750 2152.6L1500 1719.6"}),(0,T.jsx)("path",{opacity:.833,d:"M680.4 900L247.4 650"}),(0,T.jsx)("path",{opacity:.333,d:"M2152.6 1750L1719.6 1500"}),(0,T.jsx)("path",{opacity:.75,d:"M600 1200L100 1200"}),(0,T.jsx)("path",{opacity:.25,d:"M2300 1200L1800 1200"}),(0,T.jsx)("path",{opacity:.667,d:"M680.4 1500L247.4 1750"}),(0,T.jsx)("path",{opacity:.167,d:"M2152.6 650L1719.6 900"}),(0,T.jsx)("path",{opacity:.583,d:"M900 1719.6L650 2152.6"}),(0,T.jsx)("path",{opacity:.083,d:"M1750 247.4L1500 680.4"}),(0,T.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",keyTimes:"0;0.08333;0.16667;0.25;0.33333;0.41667;0.5;0.58333;0.66667;0.75;0.83333;0.91667",values:"0 1199 1199;30 1199 1199;60 1199 1199;90 1199 1199;120 1199 1199;150 1199 1199;180 1199 1199;210 1199 1199;240 1199 1199;270 1199 1199;300 1199 1199;330 1199 1199",dur:"0.83333s",begin:"0s",repeatCount:"indefinite",calcMode:"discrete"})]})}))}var ye=require("@heroicons/react/24/outline"),Ye=require("@heroicons/react/24/solid");var $e=P(require("clsx")),J=require("react"),Qe=require("react-hot-toast");var Fe=require("@heroicons/react/24/outline");var Q=require("react/jsx-runtime");function me({disabled:e=!1,commentBoxRef:t,placeholder:o="Start a new comment...",onSubmit:n}){let{appearance:r,getUserToken:p,settings:a}=E(),c=(0,J.useRef)(null),[m,y]=(0,J.useState)(!1),[h,g]=(0,J.useState)(""),[x,l]=(0,J.useState)(!a.onlyAuth||!p);function d(){y(!0),n(h).then(()=>{y(!1),(0,Qe.toast)("Thank you! We've received your comment.",{duration:3e3,position:"top-center"}),g("")})}(0,J.useEffect)(()=>{G(this,null,function*(){if(!a.onlyAuth||!p){l(!1);return}if(yield p()){l(!1);return}l(!0)})},[p,a.onlyAuth]);let f=!h.trim()||h.length===200,s=m||e||x||f;return(0,Q.jsxs)("div",{id:"docsly-comment-textarea","data-test-id":"docsly-comment-textarea-container",onClick:u=>u.stopPropagation(),className:"dy-w-full dy-flex dy-flex-col dy-justify-between",children:[(0,Q.jsx)("textarea",{value:h,ref:c,"data-test-id":"docsly-comment-textarea",className:`docslyInputStyles dy-h-[25px] dy-w-full dy-text-sm dy-outline-none dy-overflow-hidden 
        dy-transition-all focus:dy-outline-none focus:dy-ring-0
        dy-duration-200 dy-rounded dy-resize-none dy-border-none dy-bg-inherit ${r.docslyInputStyles}`,placeholder:o,onClick:u=>u.stopPropagation(),disabled:e||m,onChange:u=>{let i=u.target.value;if(!(i.length>200)&&(g(i),c.current)){let b=Math.min(Math.ceil((i.length+1)/30)*25,100);c.current.style.height=`${b}px`,t!=null&&t.current&&(t.current.style.height=`${100+b}px`)}}}),(0,Q.jsxs)("div",{"data-test-id":"docsly-comment-submit-container",className:"dy-w-full dy-flex dy-flex-row dy-justify-end dy-items-end",children:[(0,Q.jsxs)("span",{"data-test-id":"docsly-comment-input-length",className:"dy-mr-2 dy-text-xs",children:[h.length," / 200"]}),(0,Q.jsx)("button",{onClick:d,disabled:s,"data-test-id":"docsly-comment-submit-button","aria-label":x?"Only logged in users can comment":f?"Type comment to submit feedback":"Submit feedback",title:x?"Only logged in users can comment":f?"Type comment to submit feedback":"Submit feedback",className:`docslyBrandStyles dy-py-1 dy-px-2 dy-transition-colors dy-duration-150 dy-rounded dy-self-end
        ${s?"dy-bg-neutral-50 dy-bg-opacity-20 dy-text-neutral-400":r.docslyBrandStyles}
          `,children:m?(0,Q.jsx)(ce,{className:"dy-w-4 dy-block dy-h-4"}):(0,Q.jsx)(Fe.PaperAirplaneIcon,{className:(0,$e.default)("dy-w-4 dy-block dy-h-4")})})]})]})}var C=require("react/jsx-runtime");ee.default.extend(We.default);ee.default.extend(je.default);ee.default.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few secs",m:"a min",mm:"%d mins",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function pe({comment:e}){let{saveComment:t,baseURL:o,comments:n,isTeamMember:r,pathname:p,publicId:a}=E(),c=r?I.getComments:I.getCommentsPublic,m=new URL(D(c,o));m.searchParams.set("publicId",a),m.searchParams.set("pathname",p),m.searchParams.set("version",M);let[y,h]=(0,Je.useState)(!1);function g(d){return t({text:d,threadId:e.id})}let x=[e,...e.thread_replies].sort((d,f)=>new Date(d.createdAt).getTime()-new Date(f.createdAt).getTime());function l(d,f){let s=D(I.updateCommentStatus,o);return h(!0),fetch(s,{method:"POST",body:JSON.stringify({visibility:d,commentId:f}),credentials:"include",headers:{"Content-type":"application/json","x-sparkle-from":window.location.href,"x-sparkle-public-id":a,"x-sparkle-version":M}}).then(u=>{if((0,Ve.toast)("Comment status updated successfully!",{duration:2e3,position:"top-center"}),u.status===200){let i=n.filter(b=>b.id!==f);return(0,Ke.mutate)(m.href,i,{revalidate:!1})}}).catch(u=>{}).finally(()=>h(!1))}return(0,C.jsxs)("div",{className:`dy-relative dy-border-dashed dy-border-b-[1px]
    dy-border-neutral-700 last-of-type:dy-border-none`,children:[y&&(0,C.jsx)(ce,{className:`dy-absolute dy-top-[50%] dy-left-[50%] -dy-translate-x-[50%] 
        -dy-translate-y-[50%] dy-w-6 dy-h-6`}),(0,C.jsxs)("div",{onClick:d=>{y&&(d.stopPropagation(),d.preventDefault());let f=document.querySelector(e.metadata.nodeId);f&&window.scroll({behavior:"smooth",left:0,top:f.offsetTop-20})},className:(0,ze.default)("dy-w-full dy-px-4 dy-pt-2 dy-pb-4  dy-space-y-4",{"dy-opacity-60 dy-cursor-progress":y}),id:`selected_${e.id}`,children:[x.map(d=>{var f,s,u,i,b,v;return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"dy-flex dy-flex-row dy-items-center dy-mb-1 ",children:[(0,C.jsxs)("div",{className:"dy-flex-1 dy-flex dy-flex-row dy-items-center",children:[(0,C.jsxs)("button",{"aria-label":(f=d==null?void 0:d.user)!=null&&f.isTeamMember?"Team member":(s=d==null?void 0:d.user)==null?void 0:s.name,title:(u=d==null?void 0:d.user)!=null&&u.isTeamMember?"Team member":(i=d==null?void 0:d.user)==null?void 0:i.name,className:"dy-relative dy-w-6 dy-h-6 dy-mr-1",children:[(0,C.jsx)("img",{src:ae(d),alt:"user-avatar",className:"dy-rounded-full dy-w-full dy-h-full dy-object-center dy-object-cover mx-auto"}),((b=d==null?void 0:d.user)==null?void 0:b.isTeamMember)&&(0,C.jsx)("span",{className:"dy-block dy-p-[1px] dy-rounded-full dy-overflow-hidden dy-absolute -dy-bottom-[2px] -dy-right-[2px] dy-bg-black dy-bg-opacity-75",children:(0,C.jsx)(Ye.StarIcon,{className:"dy-block dy-w-3 dy-text-yellow-400 dy-h-3"})})]}),(0,C.jsx)("p",{className:"dy-text-sm dy-text-neutral-300 dy-w-28 dy-capitalize dy-whitespace-nowrap dy-overflow-ellipsis dy-overflow-hidden",children:((v=d==null?void 0:d.user)==null?void 0:v.name)||"Anonymous"})]}),(0,C.jsx)("p",{className:"dy-text-right dy-text-xs dy-ml-2 dy-mt-1 dy-text-neutral-400 dy-w-20 dy-whitespace-nowrap dy-overflow-ellipsis dy-overflow-hidden",children:(0,ee.default)(d.createdAt).fromNow()})]}),(0,C.jsx)("p",{className:"dy-text-sm dy-mb-2 dy-text-neutral-200",children:d.text}),r&&(0,C.jsxs)("div",{className:"dy-flex dy-flex-row dy-space-x-2 dy-mt-2",children:[(0,C.jsxs)("button",{onClick:A=>{A.stopPropagation(),l("resolved",d.id)},className:"dy-text-xs dy-flex dy-flex-row dy-items-center dy-transition-colors dy-duration-150 hover:dy-text-neutral-300 dy-text-neutral-400 dy-font-medium dy-mr-2",children:[(0,C.jsx)(ye.CheckCircleIcon,{className:"dy-w-4 dy-h-4 dy-mr-1"}),"Resolve"]}),(0,C.jsxs)("button",{onClick:A=>{A.stopPropagation(),l("hidden",d.id)},className:"dy-text-xs dy-flex dy-flex-row dy-items-center dy-transition-colors dy-duration-150 hover:dy-text-neutral-300 dy-text-neutral-400 dy-font-medium dy-mr-2",children:[(0,C.jsx)(ye.EyeSlashIcon,{className:"dy-w-4 dy-h-4 dy-mr-1"}),"Hide"]})]})]},d.id)}),(0,C.jsx)(me,{disabled:y,placeholder:"Send a reply...",onSubmit:g})]},e.id)]})}var S=require("react/jsx-runtime");function _e({showingInbox:e,hideInbox:t,comments:o}){let{appearance:n,settings:r}=E();return e?(0,S.jsxs)("div",{id:"docsly-comments-inbox","data-test-id":"docsly-comments-inbox",className:`docslyInboxStyles dy-overflow-hidden dy-comment-inbox-appear dy-z-[100] dy-flex dy-flex-col dy-fixed dy-shadow-lg  dy-rounded-lg dy-border-2 
       dy-w-[90vw] dy-max-w-[375px] lg:dy-max-w-[440px] dy-top-[10vh] dy-h-[75vh] dy-pb-1 ${n.docslyInboxStyles}`,children:[(0,S.jsxs)("div",{className:"dy-px-4 dy-py-2 dy-bg-neutral-50 dy-bg-opacity-10 dy-flex dy-flex-row dy-justify-between dy-items-start",children:[(0,S.jsxs)("h2",{className:"dy-text-lg tracking-wider",children:["Comments for"," ",(0,S.jsxs)("span",{className:"dy-bg-neutral-100 dy-bg-opacity-10 dy-font-normal dy-rounded-sm dy-text-xs dy-p-1 dy-px-2",children:[" ","/docs/frameworks/next-js"]})]}),(0,S.jsx)("button",{className:"dy-p-2 dy-rounded-full hover:dy-bg-neutral-800",onClick:t,children:(0,S.jsx)(Ge.XMarkIcon,{className:"dy-w-4 dy-block dy-h-4"})})]}),(0,S.jsx)("div",{className:"dy-flex-1 dy-space-y-2 dy-pt-2 dy-overflow-y-auto",children:o!=null&&o.length?o.map(p=>(0,S.jsx)(pe,{comment:p},p.id)):(0,S.jsx)("p",{className:"dy-p-2 dy-text-base dy-opacity-90",children:"No comments to show!"})}),(0,S.jsxs)("p",{className:(0,qe.default)("dy-p-2 dy-pl-4 dy-text-xs",{"dy-hidden":r.plan==="business"}),children:[(0,S.jsx)("span",{className:"dy-opacity-80",children:"Powered by "}),(0,S.jsx)("a",{href:"https://www.docsly.dev",className:"dy-text-brand-500 dy-opacity-100",children:"docsly.dev"})]})]}):null}var Xe=P(require("clsx"));var Ze=require("@heroicons/react/24/outline");var F=require("react/jsx-runtime");function et({showAddNewComment:e,sendComment:t,commentBoxRef:o,onClose:n}){let{appearance:r,settings:p}=E();return e?(0,F.jsxs)("div",{id:"docsly-comment-box","data-test-id":"docsly-comment-box",ref:o,className:`docslyCommentBoxStyles dy-select-none dy-z-[1000] dy-hidden dy-shadow-xl 
          dy-transition-all dy-duration-200 dy-h-[125px] dy-w-[320px] dy-absolute dy-p-4 
          dy-comment-box-appear dy-rounded-lg dy-border-[1px] ${r==null?void 0:r.docslyCommentBoxStyles}`,children:[(0,F.jsx)("button",{id:"docsly-comment-box-close-button","data-test-id":"docsly-comment-box-close-button",className:`dy-absolute dy-top-1 dy-right-2 dy-self-end dy-p-1 dy-rounded-full
                    hover:dy-text-neutral-200 dy-text-neutral-400 hover:dy-bg-neutral-800`,onClick:n,children:(0,F.jsx)(Ze.XMarkIcon,{className:"dy-w-3.5 dy-block dy-h-3.5"})}),(0,F.jsx)(me,{commentBoxRef:o,onSubmit:t}),(0,F.jsxs)("p",{className:(0,Xe.default)("dy-absolute dy-bottom-1 dy-left-4 dy-text-xs",{"dy-hidden":p.plan!=="starter"}),children:[(0,F.jsx)("span",{className:"dy-opacity-80",children:"Powered by "}),(0,F.jsx)("a",{href:"https://www.docsly.dev",className:"dy-text-brand-500 dy-opacity-100",children:"docsly.dev"})]})]}):null}var tt=P(require("clsx")),ue=require("react");var ot=require("@heroicons/react/24/outline");var z=require("react/jsx-runtime");function nt({showSelectedComment:e,selectedComment:t,commentIconRef:o,setSelectedComment:n}){let r=(0,ue.useRef)(null),{settings:p}=E();return(0,ue.useEffect)(()=>{function a(){let c=o.current,m=r.current;if(t&&e){let y=t.metadata,h=document.querySelector(y.nodeId),g=se(h,y.selection);if(h&&m&&c){let{xRelativeToParent:x,yRelativeToParent:l}=re(t,h),d=y.x?x:h.clientWidth-48,f=l;if(g.length){let s=g.sort((u,i)=>u.top===i.top?i.x-u.x:i.top-u.top)[0];d=s.width+s.x,f=s.top+s.height}de(d,f,c,m)}}else c&&ge(c)}return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[t,e]),!t||!e?null:(0,z.jsxs)("div",{ref:r,id:"docsly-selected-comment",className:`dy-z-[1000] dy-flex dy-flex-col dy-absolute dy-p-2 dy-px-0 dy-select-none 
                    dy-transition-all dy-duration-200 dy-comment-box-appear
                    dy-shadow-xl max-dy-h-[75vh] dy-w-[320px] dy-overflow-y-auto dy-rounded-lg 
                    dy-border-[1px] dy-border-neutral-300 dy-bg-black dy-text-neutral-200`,children:[(0,z.jsx)("button",{className:`dy-z-10 dy-absolute dy-top-1 dy-right-2 dy-self-end dy-p-1 dy-rounded-full
                hover:dy-text-neutral-200  dy-text-neutral-400 hover:dy-bg-neutral-800`,onClick:()=>{n(null)},children:(0,z.jsx)(ot.XMarkIcon,{className:"dy-w-3.5 dy-block dy-h-3.5"})}),(0,z.jsx)(pe,{comment:t}),(0,z.jsxs)("p",{className:(0,tt.default)("-dy-mt-2 dy-pl-4 dy-text-xs",{"dy-hidden":p.plan!=="starter"}),children:[(0,z.jsx)("span",{className:"dy-opacity-80",children:"Powered by "}),(0,z.jsx)("a",{href:"https://www.docsly.dev",className:"dy-text-brand-500 dy-opacity-100",children:"docsly.dev"})]})]})}var te=P(require("clsx")),dt=require("react"),rt=P(require("react-hot-toast"));var K=require("@heroicons/react/24/outline");var V=require("react/jsx-runtime");function st({active:e,leaveCommentHandler:t,skipHandler:o}){return e?(0,V.jsxs)("div",{"data-test-id":"ask-for-feedback-popup",className:`dy-ask-feedback-popup dy-absolute dy-w-[90vw] sm:dy-w-[400px]
           dy-rounded-lg dy-shadow-lg dy-p-4 dy-text-neutral-300 dy-bg-black dy-text-sm`,children:[(0,V.jsx)("p",{className:"dy-text-center dy-text-xl",children:"\u2639\uFE0F"}),(0,V.jsx)("p",{className:"dy-text-center  dy-text-lg dy-mb-2",children:"You can help us improve!"}),(0,V.jsx)("p",{className:"text-sm dy-my-2 dy-text-center dy-px-2 dy-text-neutral-400",children:"You can highlight the text and give specific feedback to help us improve better."}),(0,V.jsx)("button",{onClick:t,className:`dy-block dy-mx-auto dy-mt-4 dy-p-1 dy-px-3 dy-rounded-full hover:dy-bg-brand-600 
            dy-transition-colors dy-duration-150 dy-bg-brand-700 dy-font-medium`,children:"Leave a comment"}),(0,V.jsx)("button",{"data-test-id":"skip-feedback",onClick:o,className:"dy-block dy-mx-auto dy-mt-2 dy-text-xs dy-p-1 dy-px-3 dy-text-neutral-400 dy-font-medium",children:"Skip"})]}):null}var k=require("react/jsx-runtime"),Rt=()=>(0,rt.default)("We have received your feedback!");function at({comments:e,commentModeActive:t,onCommentMode:o,showInbox:n}){let{publicId:r,baseURL:p,user:a,getUserToken:c,appearance:m,onDocslyEvent:y}=E(),[h,g]=(0,dt.useState)(!1);function x(d,f=!1){return G(this,null,function*(){f||Rt();let s=null;if(a&&(s=a),c)try{s=yield c()}catch(u){}fetch(D(I.addFeedback,p),{method:"POST",body:JSON.stringify({helpful:d,user:s}),credentials:"include",headers:{"Content-type":"application/json","x-sparkle-from":window.location.href,"x-sparkle-public-id":r,"x-sparkle-version":M}}).then(u=>(y&&y("docsly_feedback",d),u.json())).catch(u=>{})})}let l=Array.isArray(e)&&e.length;return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{"data-test-id":"docsly-toolbox",className:`docslyToolboxStyles dy-fade-in dy-flex dy-flex-row dy-z-[500] dy-rounded-full dy-px-6 
        dy-p-1 dy-fixed dy-bottom-4 dy-shadow-xl dy-right-[50%] dy-translate-x-[50%] ${m.docslyToolboxStyles}`,children:[(0,k.jsx)("button",{"aria-label":"Leave a comment",title:"Leave a comment",className:(0,te.default)("dy-p-2 dy-mr-2 dy-rounded-full dy-transition-all dy-duration-150 dy-bg-neutral-50 hover:dy-bg-opacity-[0.15]",{"dy-bg-opacity-[0.15]":t,"dy-bg-opacity-0":!t}),"data-test-id":"docsly-start-comment-button",onClick:()=>{o()},children:(0,k.jsx)(K.ChatBubbleOvalLeftIcon,{className:(0,te.default)("dy-w-5 dy-h-5 dy-block")})}),(0,k.jsx)("button",{"aria-label":"View all comments",title:"View all comments",className:(0,te.default)("dy-rounded-full dy-transition-all dy-duration-500 dy-button-appear dy-bg-neutral-50 dy-bg-opacity-0 hover:dy-bg-opacity-[0.15]",{"dy-w-0 dy-overflow-hidden dy-opacity-0":!l,"dy-w-auto dy-max-w-[50px] dy-p-2 dy-opacity-100 dy-mr-2":l}),"data-test-id":"docsly-open-inbox-button",onClick:()=>{n(d=>!d)},children:(0,k.jsx)(K.InboxIcon,{className:l?"dy-w-5 dy-h-5 dy-block":""})}),(0,k.jsx)("button",{"aria-label":"Mark helpful",title:"Mark helpful","data-test-id":"docsly-like-button",className:(0,te.default)("dy-p-2 dy-rounded-full dy-transition-all dy-duration-150 dy-bg-neutral-50 dy-mr-2 dy-bg-opacity-0 hover:dy-bg-opacity-[0.15]"),onClick:()=>{x(!0)},children:(0,k.jsx)(K.HandThumbUpIcon,{className:"dy-w-5 dy-h-5 dy-block"})}),(0,k.jsx)("button",{"aria-label":"Mark unhelpful",title:"Mark unhelpful","data-test-id":"docsly-dislike-button",className:"dy-p-2 dy-relative dy-rounded-full dy-transition-all dy-duration-150 dy-bg-neutral-50 dy-bg-opacity-0 hover:dy-bg-opacity-[0.15]",onClick:()=>g(d=>!d),children:(0,k.jsx)(K.HandThumbDownIcon,{className:"dy-w-5 dy-h-5 dy-block"})}),(0,k.jsx)(st,{active:h,leaveCommentHandler:()=>{g(!1),x(!1,!0),o()},skipHandler:()=>{g(!1),x(!1)}})]})})}var R=require("react/jsx-runtime");function it(){let e=(0,B.useRef)(null),t=(0,B.useRef)(null),{saveComment:o,comments:n}=E(),[r,p]=(0,B.useState)(!0);(0,B.useEffect)(()=>{p(window.innerWidth<760);let i=document.createElement("style");i.setAttribute("id","docsly-pointer-style"),i.innerHTML=Te,document.head.appendChild(i)},[]);let{commentModeActive:a,toggleCommentMode:c,activeComponent:m,setActiveComponent:y,setCommentModeActive:h,metadata:g,setMetadata:x}=De({commentBoxRef:e,commentIconRef:t}),[l,d]=(0,B.useState)(null);function f(i){let b={text:i,metadata:g};return x({}),o(b).then(()=>{y("none")})}let s=(0,B.useCallback)(i=>{y(i?"selectedComment":"none"),d(i)},[]);(0,B.useEffect)(()=>{function i(b){b.key==="Escape"&&(y("none"),h(!1),Y.toast.dismiss())}return document.addEventListener("keyup",i),()=>{document.removeEventListener("keyup",i)}},[]),(0,B.useEffect)(()=>{a?document.body.classList.add("docsly-active"):document.body.classList.remove("docsly-active")},[a]);function u(){setTimeout(()=>{var i;(i=window.getSelection())==null||i.removeAllRanges(),y("addComment"),Y.toast.dismiss(),a||((0,Y.toast)("Click wherever you'd like to comment.",{position:"top-center",duration:1e4}),(0,Y.toast)("Comment mode enabled!",{position:"top-center",duration:1e4})),c()})}return(0,B.useEffect)(()=>{if(l)if(n.length){let i=n.find(b=>b.id===l.id);d(i||null)}else d(null)},[n,l]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Y.Toaster,{position:r?"top-center":"bottom-right"}),(0,R.jsxs)("div",{onClick:i=>i.stopPropagation(),className:"docsly-preflight-scope dy-z-[100000] dy-w-0 dy-h-0 dy-block",id:"docsly-container","data-test-id":"docsly-container",children:[(0,R.jsx)("div",{id:"docsly-selected-text"}),(0,R.jsx)(et,{sendComment:f,onClose:()=>{y("none"),Y.toast.dismiss()},showAddNewComment:m==="addComment",commentBoxRef:e}),(0,R.jsx)(at,{commentModeActive:a,comments:n,showInbox:()=>{y("inbox")},onCommentMode:u}),(0,R.jsx)(nt,{selectedComment:l,setSelectedComment:s,commentIconRef:t,showSelectedComment:m==="selectedComment"}),(0,R.jsx)(He,{setSelectedComment:s,comments:n}),(0,R.jsx)(_e,{hideInbox:()=>{y("none")},showingInbox:m==="inbox",comments:n}),(0,R.jsx)("img",{id:"docsly-comment-bubble-icon","data-test-id":"docsly-comment-bubble-icon",className:"dy-z-10 dy-select-none dy-comment-bubble-appear dy-absolute dy-transition-all dy-duration-100 dy-w-8 dy-h-8",alt:"comment bubble",src:Ee[64],ref:t})]})]})}var W=require("react/jsx-runtime");function Lt({error:e,resetErrorBoundary:t}){return window.location.hostname==="localhost"?(0,W.jsxs)("div",{role:"alert",children:[(0,W.jsx)("p",{children:"Something went wrong:"}),(0,W.jsx)("pre",{children:e.message}),(0,W.jsx)("button",{onClick:t,children:"Try again"})]}):null}function xe(e){let[t,o]=(0,fe.useState)(!0);(0,fe.useEffect)(()=>{o(window.innerWidth<760)},[]);let n=D(I.getProjectSettings,e.baseURL),r=new URL(n);r.searchParams.set("publicId",e.publicId),r.searchParams.set("version",M);let{data:p,isLoading:a,error:c}=(0,ct.default)(r.href,m=>X(m,{credentials:"include",headers:{"x-sparkle-from":window.location.href,"x-sparkle-public-id":e.publicId,"x-sparkle-version":M}}));return!p||a||c||p.status==="off"||t&&!p.allowMobile?null:(0,W.jsx)(lt.ErrorBoundary,{FallbackComponent:Lt,children:(0,W.jsx)(Re,{value:O(L({},e),{settings:p}),children:(0,W.jsx)(it,{})})})}var Bt=xe;0&&(module.exports={});
