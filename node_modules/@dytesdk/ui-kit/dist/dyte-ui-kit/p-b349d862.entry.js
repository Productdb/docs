import{r as t,h as r}from"./p-f3ae5269.js";import{M as e,e as s,s as i,p as o}from"./p-d0b39589.js";import{h as a}from"./p-4de316e3.js";import"./p-57e22a58.js";const n=class{constructor(s){t(this,s),this.restoreEmpty=(t,r,e)=>0===t.trim().length?`${r}${t}${r}`:e(t),this.renderLink=t=>r("a",{class:"link",href:t,target:"_blank",rel:"noopener noreferrer"},t),this.renderBold=t=>"string"==typeof t?this.restoreEmpty(t,"*",(t=>r("b",null,t))):r("b",null,this.renderTokens(t)),this.renderItalic=t=>"string"==typeof t?this.restoreEmpty(t,"_",(t=>r("i",null,t))):r("i",null,this.renderTokens(t)),this.renderStrikethrough=t=>"string"==typeof t?this.restoreEmpty(t,"~",(t=>r("s",null,t))):r("b",null,this.renderTokens(t)),this.renderPlainText=t=>"string"==typeof t?t:r("p",null,this.renderTokens(t)),this.renderTokens=t=>t.map((t=>{switch(t.type){case"a":if("string"==typeof t.content)return this.renderLink(t.content);case"b":return this.renderBold(t.content);case"i":return this.renderItalic(t.content);case"s":return this.renderStrikethrough(t.content);case"q":return r("span",{class:"block-quote"});case"plain_text":default:return this.renderPlainText(t.content)}})),this.text=void 0,this.maxLength=e}render(){const t=this.text.slice(0,this.maxLength),e=s(t,!0),a=i(t);return r("p",null,0!==e.length&&r("blockquote",null,e.split("\n").map((t=>{const e=o(t);return r("p",null,this.renderTokens(e))}))),a.split("\n").map((t=>{const e=o(t);return r("p",null,this.renderTokens(e))})))}};n.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{overflow-wrap:break-word}a{color:currentColor}.block-quote,blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}";const d=class{constructor(r){t(this,r),this.text=void 0,this.isMarkdown=!1}render(){return r("p",{class:{text:!0,emoji:a(this.text)}},this.isMarkdown?r("dyte-markdown-view",{text:this.text}):this.text)}};d.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}";export{n as dyte_markdown_view,d as dyte_text_message_view}