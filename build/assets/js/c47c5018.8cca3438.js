"use strict";(self.webpackChunkproductdb_docs=self.webpackChunkproductdb_docs||[]).push([[51856],{73536:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>o});var l=n(74848),i=n(28453);const d={sidebar_position:2,web_core_version:"1.32.1"},t=void 0,r={id:"reference/ProductDBSelf",title:"ProductDBSelf",description:"The ProductDBSelf module represents the current user, and allows to modify the state",source:"@site/docs/web-core/reference/ProductDBSelf.md",sourceDirName:"reference",slug:"/reference/ProductDBSelf",permalink:"/web-core/reference/ProductDBSelf",draft:!1,unlisted:!1,editUrl:"https://github.com/productdb/docs/tree/main/docs/web-core/reference/ProductDBSelf.md",tags:[],version:"current",lastUpdatedAt:1723755734,formattedLastUpdatedAt:"Aug 15, 2024",sidebarPosition:2,frontMatter:{sidebar_position:2,web_core_version:"1.32.1"},sidebar:"tutorialSidebar",previous:{title:"ProductDBClient",permalink:"/web-core/reference/ProductDBClient"},next:{title:"ProductDBParticipants",permalink:"/web-core/reference/ProductDBParticipants"}},a={},o=[{value:"self.roomState",id:"selfroomstate",level:3},{value:"self.permissions",id:"selfpermissions",level:3},{value:"self.config",id:"selfconfig",level:3},{value:"self.roomJoined",id:"selfroomjoined",level:3},{value:"self.isPinned",id:"selfispinned",level:3},{value:"self.setName(name)",id:"selfsetnamename",level:3},{value:"self.setupTracks(options)",id:"selfsetuptracksoptions",level:3},{value:"self.enableAudio()",id:"selfenableaudio",level:3},{value:"self.enableVideo()",id:"selfenablevideo",level:3},{value:"self.updateVideoConstraints()",id:"selfupdatevideoconstraints",level:3},{value:"self.enableScreenShare()",id:"selfenablescreenshare",level:3},{value:"self.updateScreenshareConstraints()",id:"selfupdatescreenshareconstraints",level:3},{value:"self.disableAudio()",id:"selfdisableaudio",level:3},{value:"self.disableVideo()",id:"selfdisablevideo",level:3},{value:"self.disableScreenShare()",id:"selfdisablescreenshare",level:3},{value:"self.getAllDevices()",id:"selfgetalldevices",level:3},{value:"self.setIsPinned()",id:"selfsetispinned",level:3},{value:"self.pin()",id:"selfpin",level:3},{value:"self.unpin()",id:"selfunpin",level:3},{value:"self.setDevice(device)",id:"selfsetdevicedevice",level:3},{value:"<del>self.requestToJoinStage()</del>",id:"selfrequesttojoinstage",level:3},{value:"<del>self.withdrawRequestToJoinStage()</del>",id:"selfwithdrawrequesttojoinstage",level:3},{value:"<del>self.leaveStage()</del>",id:"selfleavestage",level:3},{value:"<del>self.joinStage()</del>",id:"selfjoinstage",level:3},{value:"<del>self.setWebinarStageStatus()</del>",id:"selfsetwebinarstagestatus",level:3},{value:"<del>self.disablePreview()</del>",id:"selfdisablepreview",level:3},{value:"<del>self.clientSpecificId</del>",id:"selfclientspecificid",level:3},{value:"<del>self.suggestedTheme</del>",id:"selfsuggestedtheme",level:3},{value:"<del>self.webinarStageStatus</del>",id:"selfwebinarstagestatus",level:3}];function c(e){const s={a:"a",admonition:"admonition",code:"code",del:"del",em:"em",h3:"h3",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("a",{name:"module_ProductDBSelf"}),"\n",(0,l.jsx)(s.p,{children:"The ProductDBSelf module represents the current user, and allows to modify the state\nof the user in the meeting. The audio and video streams of the user can be retrieved from\nthis module."}),"\n",(0,l.jsxs)(s.admonition,{title:"Note",type:"tip",children:[(0,l.jsxs)(s.p,{children:["ProductDBSelf extends ",(0,l.jsx)(s.a,{href:"./ProductDBSelfMedia",children:"ProductDBSelfMedia"})," therefore all the methods & variables exposed by ProductDBSelfMedia are also available on ProductDBSelf."]}),(0,l.jsx)(s.p,{children:"Few examples:"}),(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-tsx",children:"meeting.self.rawAudioTrack;\nmeeting.self.rawVideoTrack;\nmeeting.self.audioEnabled;\nmeeting.self.videoEnabled;\nawait meeting.self.getAudioDevices();\nawait meeting.self.getVideoDevices();\n"})})]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.a,{href:"#module_ProductDBSelf",children:"ProductDBSelf"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+roomState",children:".roomState"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+permissions",children:".permissions"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+config",children:".config"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+roomJoined",children:".roomJoined"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+isPinned",children:".isPinned"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+setName",children:".setName(name)"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+setupTracks",children:".setupTracks(options)"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+enableAudio",children:".enableAudio()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+enableVideo",children:".enableVideo()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+updateVideoConstraints",children:".updateVideoConstraints()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+enableScreenShare",children:".enableScreenShare()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+updateScreenshareConstraints",children:".updateScreenshareConstraints()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+disableAudio",children:".disableAudio()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+disableVideo",children:".disableVideo()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+disableScreenShare",children:".disableScreenShare()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+getAllDevices",children:".getAllDevices()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+setIsPinned",children:".setIsPinned()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+pin",children:".pin()"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"#module_ProductDBSelf+unpin",children:".unpin()"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+roomState"}),"\n",(0,l.jsx)(s.h3,{id:"selfroomstate",children:"self.roomState"}),"\n",(0,l.jsx)(s.p,{children:"Returns the current state of room"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"init - Inital State"}),"\n",(0,l.jsx)(s.li,{children:"joined - User is in the meeting"}),"\n",(0,l.jsx)(s.li,{children:"waitlisted - User is in the waitlist state"}),"\n",(0,l.jsx)(s.li,{children:"rejected - User's was in the waiting room, but the entry was rejected"}),"\n",(0,l.jsx)(s.li,{children:"kicked - A priveleged user removed the user from the meeting"}),"\n",(0,l.jsx)(s.li,{children:"left - User left the meeting"}),"\n",(0,l.jsx)(s.li,{children:"ended - The meeting was ended"}),"\n"]}),"\n",(0,l.jsx)(s.mermaid,{value:"stateDiagram-v2\n    direction LR\n    classDef END fill:#ef4444,color:#fff,stroke:#ef4444;\n\n    [*] --\x3e init\n    init --\x3e joined\n    init --\x3e waitlisted\n    waitlisted --\x3e joined\n    waitlisted --\x3e rejected\n    joined --\x3e kicked\n    joined --\x3e left\n    joined --\x3e ended\n\n    class kicked,left,ended,rejected END"}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+permissions"}),"\n",(0,l.jsx)(s.h3,{id:"selfpermissions",children:"self.permissions"}),"\n",(0,l.jsx)(s.p,{children:"Returns the current permission given to the user for the meeting."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+config"}),"\n",(0,l.jsx)(s.h3,{id:"selfconfig",children:"self.config"}),"\n",(0,l.jsx)(s.p,{children:"Returns configuration for the meeting."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+roomJoined"}),"\n",(0,l.jsx)(s.h3,{id:"selfroomjoined",children:"self.roomJoined"}),"\n",(0,l.jsx)(s.p,{children:"Returns true if the local participant has joined the meeting."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+isPinned"}),"\n",(0,l.jsx)(s.h3,{id:"selfispinned",children:"self.isPinned"}),"\n",(0,l.jsx)(s.p,{children:"Returns true if the current user is pinned."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+setName"}),"\n",(0,l.jsx)(s.h3,{id:"selfsetnamename",children:"self.setName(name)"}),"\n",(0,l.jsx)(s.p,{children:"The name of the user can be set by calling this method.\nThis will get reflected to other participants ONLY if\nthis method is called before the room is joined."}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Param"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsx)(s.tbody,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"name"}),(0,l.jsx)(s.td,{children:"Name of the user."})]})})]}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+setupTracks"}),"\n",(0,l.jsx)(s.h3,{id:"selfsetuptracksoptions",children:"self.setupTracks(options)"}),"\n",(0,l.jsx)(s.p,{children:"Sets up the local media tracks."}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Param"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"options"}),(0,l.jsx)(s.td,{children:"The audio and video options."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"options.video"}),(0,l.jsx)(s.td,{children:"If true, the video stream is fetched."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"options.audio"}),(0,l.jsx)(s.td,{children:"If true, the audio stream is fetched."})]})]})]}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+enableAudio"}),"\n",(0,l.jsx)(s.h3,{id:"selfenableaudio",children:"self.enableAudio()"}),"\n",(0,l.jsx)(s.p,{children:"This method is used to unmute the local participant's audio."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+enableVideo"}),"\n",(0,l.jsx)(s.h3,{id:"selfenablevideo",children:"self.enableVideo()"}),"\n",(0,l.jsx)(s.p,{children:"This method is used to start streaming the local participant's video\nto the meeting."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+updateVideoConstraints"}),"\n",(0,l.jsx)(s.h3,{id:"selfupdatevideoconstraints",children:"self.updateVideoConstraints()"}),"\n",(0,l.jsx)(s.p,{children:"This method is used to apply constraints to the current video\nstream."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+enableScreenShare"}),"\n",(0,l.jsx)(s.h3,{id:"selfenablescreenshare",children:"self.enableScreenShare()"}),"\n",(0,l.jsx)(s.p,{children:"This method is used to start sharing the local participant's screen\nto the meeting."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+updateScreenshareConstraints"}),"\n",(0,l.jsx)(s.h3,{id:"selfupdatescreenshareconstraints",children:"self.updateScreenshareConstraints()"}),"\n",(0,l.jsx)(s.p,{children:"This method is used to apply constraints to the current screenshare\nstream."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+disableAudio"}),"\n",(0,l.jsx)(s.h3,{id:"selfdisableaudio",children:"self.disableAudio()"}),"\n",(0,l.jsx)(s.p,{children:"This method is used to mute the local participant's audio."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+disableVideo"}),"\n",(0,l.jsx)(s.h3,{id:"selfdisablevideo",children:"self.disableVideo()"}),"\n",(0,l.jsx)(s.p,{children:"This participant is used to disable the local participant's video."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+disableScreenShare"}),"\n",(0,l.jsx)(s.h3,{id:"selfdisablescreenshare",children:"self.disableScreenShare()"}),"\n",(0,l.jsx)(s.p,{children:"This method is used to stop sharing the local participant's screen."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+getAllDevices"}),"\n",(0,l.jsx)(s.h3,{id:"selfgetalldevices",children:"self.getAllDevices()"}),"\n",(0,l.jsx)(s.p,{children:"Returns all media devices accessible by the local participant."}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+setIsPinned"}),"\n",(0,l.jsx)(s.h3,{id:"selfsetispinned",children:"self.setIsPinned()"}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+pin"}),"\n",(0,l.jsx)(s.h3,{id:"selfpin",children:"self.pin()"}),"\n",(0,l.jsxs)(s.p,{children:["Returns ",(0,l.jsx)(s.code,{children:"self.id"})," if user has permission\nto pin participants."]}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+unpin"}),"\n",(0,l.jsx)(s.h3,{id:"selfunpin",children:"self.unpin()"}),"\n",(0,l.jsxs)(s.p,{children:["Returns ",(0,l.jsx)(s.code,{children:"self.id"})," if user has permission\nto unpin participants."]}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+setDevice"}),"\n",(0,l.jsx)(s.h3,{id:"selfsetdevicedevice",children:"self.setDevice(device)"}),"\n",(0,l.jsx)(s.p,{children:"Change the current media device that is being used by the local participant."}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Param"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsx)(s.tbody,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"device"}),(0,l.jsxs)(s.td,{children:["The device that is to be used. A device of the same ",(0,l.jsx)(s.code,{children:"kind"})," will be replaced. the primary stream."]})]})})]}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+requestToJoinStage"}),"\n",(0,l.jsx)(s.h3,{id:"selfrequesttojoinstage",children:(0,l.jsx)(s.del,{children:"self.requestToJoinStage()"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+withdrawRequestToJoinStage"}),"\n",(0,l.jsx)(s.h3,{id:"selfwithdrawrequesttojoinstage",children:(0,l.jsx)(s.del,{children:"self.withdrawRequestToJoinStage()"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+leaveStage"}),"\n",(0,l.jsx)(s.h3,{id:"selfleavestage",children:(0,l.jsx)(s.del,{children:"self.leaveStage()"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+joinStage"}),"\n",(0,l.jsx)(s.h3,{id:"selfjoinstage",children:(0,l.jsx)(s.del,{children:"self.joinStage()"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+setWebinarStageStatus"}),"\n",(0,l.jsx)(s.h3,{id:"selfsetwebinarstagestatus",children:(0,l.jsx)(s.del,{children:"self.setWebinarStageStatus()"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+disablePreview"}),"\n",(0,l.jsx)(s.h3,{id:"selfdisablepreview",children:(0,l.jsx)(s.del,{children:"self.disablePreview()"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+clientSpecificId"}),"\n",(0,l.jsx)(s.h3,{id:"selfclientspecificid",children:(0,l.jsx)(s.del,{children:"self.clientSpecificId"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+suggestedTheme"}),"\n",(0,l.jsx)(s.h3,{id:"selfsuggestedtheme",children:(0,l.jsx)(s.del,{children:"self.suggestedTheme"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})}),"\n",(0,l.jsx)("a",{name:"module_ProductDBSelf+webinarStageStatus"}),"\n",(0,l.jsx)(s.h3,{id:"selfwebinarstagestatus",children:(0,l.jsx)(s.del,{children:"self.webinarStageStatus"})}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.em,{children:(0,l.jsx)(s.strong,{children:"Deprecated"})})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>r});var l=n(96540);const i={},d=l.createContext(i);function t(e){const s=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),l.createElement(d.Provider,{value:s},e.children)}}}]);