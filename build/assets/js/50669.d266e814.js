"use strict";(self.webpackChunkproductdb_docs=self.webpackChunkproductdb_docs||[]).push([[50669,73050],{73050:(t,e,s)=>{s.r(e),s.d(e,{dyte_ai_toggle:()=>a});var i=s(72944),o=s(17073),n=s(74157),r=s(26468);s(55055);const a=class{constructor(t){(0,i.r)(this,t),this.stateUpdate=(0,i.c)(this,"dyteStateUpdate",7),this.variant="button",this.states=void 0,this.meeting=void 0,this.size=void 0,this.iconPack=o.d,this.t=(0,n.u)(),this.aiActive=!1}statesChanged(t){const e=t||r.s;this.aiActive=e.activeAI}toggleAI(){const t=this.states||r.s;this.aiActive=!(null==t?void 0:t.activeAI),this.stateUpdate.emit({activeAI:this.aiActive,activeMoreMenu:!1,activeSidebar:!1}),r.s.activeAI=this.aiActive,r.s.activeMoreMenu=!1,r.s.activeSidebar=!1}render(){var t,e;const s=this.t("ai.meeting_ai");return(null===(e=null===(t=this.meeting)||void 0===t?void 0:t.self)||void 0===e?void 0:e.permissions).transcriptionEnabled?(0,i.h)(i.H,{title:s},(0,i.h)("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,t:this.t,class:{active:this.aiActive},onClick:()=>this.toggleAI(),icon:this.iconPack.meeting_ai,label:s,variant:this.variant,brandIcon:!0})):null}static get watchers(){return{states:["statesChanged"]}}};a.style=":host{display:block}"},26468:(t,e,s)=>{s.d(e,{o:()=>d,s:()=>u});var i=s(72944),o=s(55055);const n=t=>!("isConnected"in t)||t.isConnected,r=((t,e)=>{let s;return(...i)=>{s&&clearTimeout(s),s=setTimeout((()=>{s=0,t(...i)}),e)}})((t=>{for(let e of t.keys())t.set(e,t.get(e).filter(n))}),2e3),a=t=>"function"==typeof t?t():t,c=(t,e)=>{const s=t.indexOf(e);s>=0&&(t[s]=t[t.length-1],t.length--)},{state:u,onChange:d}=((t,e)=>{const s=((t,e=((t,e)=>t!==e))=>{const s=a(t);let i=new Map(Object.entries(null!=s?s:{}));const o={dispose:[],get:[],set:[],reset:[]},n=()=>{var e;i=new Map(Object.entries(null!==(e=a(t))&&void 0!==e?e:{})),o.reset.forEach((t=>t()))},r=t=>(o.get.forEach((e=>e(t))),i.get(t)),u=(t,s)=>{const n=i.get(t);e(s,n,t)&&(i.set(t,s),o.set.forEach((e=>e(t,s,n))))},d="undefined"==typeof Proxy?{}:new Proxy(s,{get:(t,e)=>r(e),ownKeys:t=>Array.from(i.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>i.has(e),set:(t,e,s)=>(u(e,s),!0)}),h=(t,e)=>(o[t].push(e),()=>{c(o[t],e)});return{state:d,get:r,set:u,on:h,onChange:(e,s)=>{const i=h("set",((t,i)=>{t===e&&s(i)})),o=h("reset",(()=>s(a(t)[e])));return()=>{i(),o()}},use:(...t)=>{const e=t.reduce(((t,e)=>(e.set&&t.push(h("set",e.set)),e.get&&t.push(h("get",e.get)),e.reset&&t.push(h("reset",e.reset)),e.dispose&&t.push(h("dispose",e.dispose)),t)),[]);return()=>e.forEach((t=>t()))},dispose:()=>{o.dispose.forEach((t=>t())),n()},reset:n,forceUpdate:t=>{const e=i.get(t);o.set.forEach((s=>s(t,e,e)))}}})(t,e);return s.use((()=>{if("function"!=typeof i.g)return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const s=(0,i.g)();s&&((t,e,s)=>{const i=t.get(e);i?i.includes(s)||i.push(s):t.set(e,[s])})(t,e,s)},set:e=>{const s=t.get(e);s&&t.set(e,s.filter(i.f)),r(t)},reset:()=>{t.forEach((t=>t.forEach(i.f))),r(t)}}})()),s})({prefs:(0,o.g)()})},55055:(t,e,s)=>{s.d(e,{a:()=>n,b:()=>c,c:()=>d,g:()=>u,s:()=>a});const i={get:(t,e,s)=>(...i)=>{try{return Reflect.get(t,e,s).apply(t,i)}catch(o){return null}}};let o;try{o=new Proxy(localStorage,i)}catch(h){o=new Proxy({},i)}const n=o,r="dyte-prefs",a=(t,e)=>{const s=JSON.parse(n.getItem(r)||"{}");s[t]=JSON.stringify(e),n.setItem("dyte-prefs",JSON.stringify(s))},c=t=>JSON.parse(n.getItem(r)||"{}")[t],u=()=>{const t=JSON.parse(n.getItem(r)||"{}");return{mirrorVideo:!t["mirror-video"]||"true"===t["mirror-video"],muteNotificationSounds:!!t["mute-notification-sounds"]&&"true"===t["mute-notification-sounds"]}},d={}}}]);