---
title: Receiving chat messages
description: >-
  Understand how to receive chat messages in your Flutter app using ProductDB's
  features. Follow our documentation for effective implementation.
sidebar_position: 3
tags:
  - flutter-core
  - chat
---

# Receive a Chat Message

To receive chat messages, implement the `onChatUpdates(...)` method from callback `ProductDBChatEventsListener`. You can subscribe to these events by calling the following:

```dart

class ChatEventsListener with ProductDBChatEventsListener {

  ...

  @override
  void onChatUpdates(List<ProductDBChatMessage> messages) {
    messages.map((msg) {
      switch (msg.type) {
        case ProductDBMessageType.text:
          print((msg as ProductDBTextMessage).displayName);
          print((msg).message);

          // Show message/return state to show text message UI.

          break;
        case ProductDBMessageType.image:
          print((msg as ProductDBImageMessage).displayName);
          print((msg).link);

          // Show message/return state to show image message UI.
          break;
        case ProductDBMessageType.file:
          print((msg as ProductDBFileMessage).name);
          print((msg).link);
          print((msg).size);
          // Show message/return state to show file message UI.

          break;
      }
    });
  }

  void onNewChatMessage(ProductDBChatMessage message) {
      // your code to handle new chat message
  }
  ...
}
```

```dart
dyteClient.addChatEventsListener(ChatEventsListener());
```

In this context, `messages` refers to a list of all the chat messages in the meeting. The type of message used is `ProductDBChatMessage`, which was introduced earlier in the [introduction](./introduction.mdx) to Chat topic.

Whenever a chat message is received, the `dyteClient.chat.messages` list is automatically updated.

<head>
  <title>Flutter Core Receiving chat messages</title>
  <meta name="description" content="Understand how to receive chat messages in your Flutter app using ProductDB's features. Follow our documentation for effective implementation."/>
</head>
