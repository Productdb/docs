---
title: Audio/video - Preview
sidebar_position: 3
---

import CodeRunner from '@site/src/components/CodeRunner/CodeRunner';

For building audio/video preview

### Permissions

- For AUDIO - The value of `meeting.self.permissions.canProduceAudio` needs to be `ALLOWED`
- For VIDEO - The value of `meeting.self.permissions.canProduceVideo` needs to be `ALLOWED`

In the preset editor, toggle these settings under `Media`.

### Media Preview and Controls

We'll be using `ProductDBParticipantTile`, `ProductDBAvatar`, `ProductDBNameTag`, `ProductDBAudioVisualizer` for building a preview tile and
`ProductDBMicToggle` and `ProductDBCameraToggle` for media controls

```tsx
<ProductDBParticipantTile meeting={meeting} participant={meeting.self}>
  <ProductDBAvatar participant={meeting.self} />
  <ProductDBNameTag participant={meeting.self}>
    <ProductDBAudioVisualizer participant={meeting.self} slot="start" />
  </ProductDBNameTag>
  <div id="user-actions" className="absolute bottom-2 right-2 flex">
    <ProductDBMicToggle meeting={meeting} size="sm"></ProductDBMicToggle>
    <ProductDBCameraToggle meeting={meeting} size="sm"></ProductDBCameraToggle>
  </div>
</ProductDBParticipantTile>
```

<CodeRunner 
highlight={[{start: 18, end: 22}, {start: 31, end: 32}, {start: 34, end: 34}]}
hide={[{start:1, end: 6}]}
file={`
import {
  ProductDBParticipantTile, ProductDBAvatar,ProductDBNameTag,
  ProductDBAudioVisualizer, ProductDBMicToggle, ProductDBCameraToggle, ProductDBButton,
} from '@dytesdk/react-ui-kit';
import { useProductDBMeeting } from '@dytesdk/react-web-core';

export default function CustomMeetingPreview() {
  const { meeting } = useProductDBMeeting();

  return (
    <div
      className="h-full w-full flex flex-col items-center justify-center"
      style={{ minHeight: '400px' }}
    >
      <div className="flex w-full items-center justify-around p-[10%]">
        <div className="relative">
          <ProductDBParticipantTile meeting={meeting} participant={meeting.self}>
            <ProductDBAvatar participant={meeting.self} />
            <ProductDBNameTag participant={meeting.self}>
              <ProductDBAudioVisualizer participant={meeting.self} slot="start" />
            </ProductDBNameTag>
            <div
              id="user-actions"
              className="absolute flex"
              style={{
                bottom: '8px',
                right: '8px',
              }}
            >
              <ProductDBMicToggle meeting={meeting} size="sm"></ProductDBMicToggle>
              <ProductDBCameraToggle meeting={meeting} size="sm"></ProductDBCameraToggle>
            </div>
          </ProductDBParticipantTile>
        </div>
        <div className="flex w-1/4 flex-col justify-between">
          <div className="flex flex-col items-center">
            <p>Joining as {meeting.self.name}</p>
          </div>
          <ProductDBButton
            kind="wide"
            size="lg"
            onClick={async () => {
              await meeting.join();
            }}
          >
            Join
          </ProductDBButton>
        </div>
      </div>
    </div>
  );
}
`} />
